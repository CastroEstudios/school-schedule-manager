create table Especialidad (
	idEspecialidad smallint primary key,
	Nombre varchar(100)
);

create table Profesor (
	NIF char(9) primary key,
	Nombre varchar(45) not null,
	Apellidos varchar(100) not null,
	Antiguedad smallint not null,
	HorasContratadas smallint not null,
	Especialidad_idEspecialidad smallint not null,
	foreign key (Especialidad_idEspecialidad) references Especialidad(idEspecialidad)
);

create table Modulo (
	idModulo int primary key,
	Nombre varchar(45) not null,
	HorasReales smallint not null,
	HorasPonderadas smallint not null,
	Descripcion varchar(200),
	Especialidad_idEspecialidad smallint not null,
	foreign key (Especialidad_idEspecialidad) references Especialidad(idEspecialidad)
);

create table Ciclo (
	idCiclo int primary key,
	Nombre varchar(45) not null,
	Nivel enum ('Básico', 'Medio', 'Superior') default 'Medio' not null,
	Especialidad_idEspecialidad smallint not null,
	foreign key (Especialidad_idEspecialidad) references Especialidad(idEspecialidad)
)

create table Curso (
	idCurso int primary key,
	Turno enum ('Manana', 'Tarde', 'Noche') default 'Manana' not null,
	Nivel tinyint not null,
	Ciclo_idCiclo int not null,
	foreign key (Ciclo_idCiclo) references Ciclo(idCiclo)
);

create table Modulo_Curso (
	Modulo_idModulo int not null,
	Curso_idCurso int not null,
	foreign key (Modulo_idModulo) references Modulo(idModulo),
	foreign key (Curso_idCurso) references Curso(idCurso),
	primary key(Curso_idCurso, Modulo_idModulo)
);

create table Modulos_Profesor (
	Profesor_NIF int not null,
	Modulo_idModulo int not null,
	Curso_idCurso int not null,
	foreign key (Profesor_NIF) references Profesor(NIF),
	foreign key (Modulo_idModulo) references Modulo(idModulo),
	foreign key (Curso_idCurso) references Curso(idCurso),
	primary key (Profesor_NIF, Modulo_idModulo, Curso_idCurso)
);

insert into Especialidad values (1, 'Ciencias de la Información');
insert into Profesor (Nombre, Apellidos, Antiguedad, HorasContratadas
	, Especialidad_idEspecialidad) values ('Wilfredo', 'Wilfredo', '4850', 25, 1);
insert into Ciclo values (1, 'Desarrollo de Software Multiplataforma', 'Superior', 1);
insert into Curso values (1, 'Manana', 2, 1);
insert into Modulo values (1, 'Acceso a Datos', 7, 6, 'Hacemos cositas', 1);
insert into Modulo_Curso values (1, 1);
insert into Modulos_Profesor values (1, 1, 1);
